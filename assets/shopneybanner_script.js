!function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){var n=t[o][1][e];return a(n||e)}),d,d.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getCookieExpiresString",value:function(e){var t=new Date,n=new Date(t.getTime()+e);return"expires=".concat(n.toGMTString(),";")}},{key:"bake",value:function(t,n){document.cookie="smartbanner_exited=1; ".concat(t?e.getCookieExpiresString(t):""," path=").concat(n)}},{key:"unbake",value:function(){document.cookie="smartbanner_exited=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"baked",get:function(){return"1"===document.cookie.replace(/(?:(?:^|.*;\s*)smartbanner_exited\s*=\s*([^;]*).*$)|^.*$/,"$1")}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();n.default=a},{}],2:[function(e,t,n){(function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var r,a,i;return r=n,i=[{key:"platform",value:function(){return/iPhone|iPad|iPod/i.test(window.navigator.userAgent)?"ios":/Android/i.test(window.navigator.userAgent)?"android":void 0}},{key:"userAgentMatchesRegex",value:function(e){return new RegExp(e).test(window.navigator.userAgent)}},{key:"jQueryMobilePage",value:function(){return void 0!==e.$&&"undefined"!==e.$.mobile&&null!==document.querySelector(".ui-page")}},{key:"wrapperElement",value:function(){var e=n.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(e)}}],(a=null)&&t(r.prototype,a),i&&t(r,i),n}();n.default=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";var r;(new(((r=e("./smartbanner.js"))&&r.__esModule?r:{default:r}).default)).publish()},{"./smartbanner.js":5}],4:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"parse",value:function(){let e=".smartbanner {position: absolute;top: 0;left: 0;overflow-x: hidden;width: 100%;height: 84px;background: #f3f3f3;font-family: Helvetica, sans, sans-serif;z-index: 999999;}.smartbanner__exit {position: absolute;top: calc(50% - 6px);left: 9px;display: block!important;margin: 0;width: 12px;height: 12px;border: 0;text-align: center;}.smartbanner__exit::before, .smartbanner__exit::after {position: absolute;width: 1px;height: 12px;background: #767676;content: ' ';}.smartbanner__exit::before {-webkit-transform: rotate(45deg);transform: rotate(45deg);}.smartbanner__exit::after {-webkit-transform: rotate(-45deg);transform: rotate(-45deg);}.smartbanner__icon {position: absolute;top: 12px;left: 30px;width: 64px;height: 64px;border-radius: 12px;background-size: 64px 64px;display: block!important;}.smartbanner__info {position: absolute;top: 10px;left: 104px;display: flex;overflow-y: hidden;width: 50%;height: 68px;align-items: center;color: #000;}.smartbanner__info__title {font-size: 14px;}.smartbanner__info__description {font-size: 12px;padding-top: 4px;}.smartbanner__button {position: absolute;top: 32px;right: 10px;z-index: 1;display: block;padding: 0 10px;min-width: 10%;border-radius: 5px;background: #f3f3f3;color: #1474fc;font-size: 18px;text-align: center;text-decoration: none;}.smartbanner__button__label {text-align: center;}.smartbanner.smartbanner--android {background: #3d3d3d url(data:image/gif;base64,R0lGODlhCAAIAIABAFVVVf///yH5BAEHAAEALAAAAAAIAAgAAAINRG4XudroGJBRsYcxKAA7);box-shadow: inset 0 4px 0 #88b131;}.smartbanner.smartbanner--android .smartbanner__exit {left: 6px;margin-right: 7px;width: 17px;height: 17px;border-radius: 14px;background: #1c1e21;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) inset, 0 1px 1px rgba(255, 255, 255, 0.3);color: #b1b1b3;font-family: 'ArialRoundedMTBold', Arial;font-size: 20px;-webkit-font-smoothing: subpixel-antialiased;line-height: 17px;text-shadow: 0 1px 1px #000;}.smartbanner.smartbanner--android .smartbanner__exit::before, .smartbanner.smartbanner--android .smartbanner__exit::after {top: 3px;left: 8px;width: 2px;height: 11px;background: #b1b1b3;}.smartbanner.smartbanner--android .smartbanner__exit:active, .smartbanner.smartbanner--android .smartbanner__exit:hover {color: #eee;}.smartbanner.smartbanner--android .smartbanner__icon {background-color: transparent;box-shadow: none;}.smartbanner.smartbanner--android .smartbanner__info {color: #ccc;text-shadow: 0 1px 2px #000;}.smartbanner.smartbanner--android .smartbanner__info__title {color: #fff;font-weight: bold;}.smartbanner.smartbanner--android .smartbanner__button {top: 30px;right: 20px;padding: 0;min-width: 12%;border-radius: 0;background: none;box-shadow: 0 0 0 1px #333, 0 0 0 2px #dddcdc;color: #d1d1d1;font-size: 14px;font-weight: bold;}.smartbanner.smartbanner--android .smartbanner__button:active, .smartbanner.smartbanner--android .smartbanner__button:hover {background: none;}.smartbanner.smartbanner--android .smartbanner__button__label {display: block;padding: 0 10px;background: #42b6c9;background: linear-gradient(to bottom, #42b6c9, #39a9bb);box-shadow: none;line-height: 24px;text-align: center;text-shadow: none;text-transform: none;}.smartbanner.smartbanner--android .smartbanner__button__label:active, .smartbanner.smartbanner--android .smartbanner__button__label:hover {background: #2ac7e1;}",t=document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e));let r={button:"Install",desc:"Mobile App",icon:"https://cdn.shopify.com/s/files/1/0010/3491/1809/t/21/assets/shopneybanner_icon.png?v=1595333323",itunes:"https://apps.apple.com/us/app/id1523874416",play:"https://play.google.com/store/apps/details?id=co.shopney.collectiblemadness ",title:"Collectible Madness"};return r}}])&&r(t.prototype,n),a&&r(t,a),e}();n.default=a},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./optionparser.js")),a=o(e("./detector.js")),i=o(e("./bakery.js"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u={originalTop:"data-smartbanner-original-top",originalMarginTop:"data-smartbanner-original-margin-top"};function l(e){this.positioningDisabled||d(e.data.height)}function d(e){for(var t,n=a.default.wrapperElement(),r=0,i=n.length;r<i;r++)if(t=n[r],a.default.jQueryMobilePage()){if(t.getAttribute(u.originalTop))continue;var o=parseFloat(getComputedStyle(t).top);t.setAttribute(u.originalTop,isNaN(o)?0:o),t.style.top=e+"px"}else{if(t.getAttribute(u.originalMarginTop))continue;var s=parseFloat(getComputedStyle(t).marginTop);t.setAttribute(u.originalMarginTop,isNaN(s)?0:s),t.style.marginTop=e+"px"}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new r.default;this.options=t.parse(),this.platform=a.default.platform()}var t,n,o;return t=e,(n=[{key:"publish",value:function(){if(0===Object.keys(this.options).length)throw new Error("No options detected. Please consult documentation.");if(i.default.baked)return!1;if(this.userAgentExcluded)return!1;if(!this.platformEnabled&&!this.userAgentIncluded)return!1;var e=document.createElement("div");document.querySelector("body").appendChild(e),e.outerHTML=this.html;var t=new Event("smartbanner.view");document.dispatchEvent(t),this.positioningDisabled||d(this.height),function(e){document.querySelector(".js_smartbanner__exit").addEventListener("click",(function(t){return function(e,t){t.exit()}(0,e)})),a.default.jQueryMobilePage()&&$(document).on("pagebeforeshow",e,l)}(this)}},{key:"exit",value:function(){a.default.jQueryMobilePage()&&$(document).off("pagebeforeshow",l),this.positioningDisabled||function(){for(var e,t=a.default.wrapperElement(),n=0,r=t.length;n<r;n++)e=t[n],a.default.jQueryMobilePage()&&e.getAttribute(u.originalTop)?e.style.top=e.getAttribute(u.originalTop)+"px":e.getAttribute(u.originalMarginTop)&&(e.style.marginTop=e.getAttribute(u.originalMarginTop)+"px")}();var e=document.querySelector(".js_smartbanner");document.querySelector("body").removeChild(e);var t=new Event("smartbanner.exit");document.dispatchEvent(t),i.default.bake(this.hideTtl,this.hidePath)}},{key:"originalTop",get:function(){var e=a.default.wrapperElement()[0];return parseFloat(e.getAttribute(u.originalTop))}},{key:"originalTopMargin",get:function(){var e=a.default.wrapperElement()[0];return parseFloat(e.getAttribute(u.originalMarginTop))}},{key:"priceSuffix",get:function(){return"ios"===this.platform?this.options.priceSuffixApple:"android"===this.platform?this.options.priceSuffixGoogle:""}},{key:"icon",get:function(){return this.options.icon}},{key:"buttonUrl",get:function(){return"android"===this.platform?this.options.play:"ios"===this.platform?this.options.itunes:"#"}},{key:"html",get:function(){var e=this.options.customDesignModifier?this.options.customDesignModifier:this.platform;return this.buttonUrl?'<div class="smartbanner smartbanner--'.concat(e,' js_smartbanner">\n      <a href="javascript:void();" class="smartbanner__exit js_smartbanner__exit"></a>\n      <div class="smartbanner__icon" style="background-image: url(').concat(this.icon,');"></div>\n      <div class="smartbanner__info">\n        <div>\n          <div class="smartbanner__info__title">').concat(this.options.title,'</div>\n          <div class="smartbanner__info__description">').concat(this.options.desc,'</div>\n          </div>\n        </div>\n      <a href="').concat(this.buttonUrl,'" target="_blank" class="smartbanner__button"><span class="smartbanner__button__label">').concat(this.options.button,"</span></a>\n    </div>"):""}},{key:"height",get:function(){var e=document.querySelector(".js_smartbanner").offsetHeight;return void 0!==e?e:0}},{key:"platformEnabled",get:function(){var e=this.options.enabledPlatforms||"android,ios";return e&&-1!==e.replace(/\s+/g,"").split(",").indexOf(this.platform)}},{key:"positioningDisabled",get:function(){return"true"===this.options.disablePositioning}},{key:"userAgentExcluded",get:function(){return!!this.options.excludeUserAgentRegex&&a.default.userAgentMatchesRegex(this.options.excludeUserAgentRegex)}},{key:"userAgentIncluded",get:function(){return!!this.options.includeUserAgentRegex&&a.default.userAgentMatchesRegex(this.options.includeUserAgentRegex)}},{key:"hideTtl",get:function(){return 864e5}},{key:"hidePath",get:function(){return this.options.hidePath?this.options.hidePath:"/"}}])&&s(t.prototype,n),o&&s(t,o),e}();n.default=c},{"./bakery.js":1,"./detector.js":2,"./optionparser.js":4}]},{},[3]);
